/*!
        Minimized for polarr_v001 2015-02-01 Production.
*/
var Music;Music=function(){function a(a){this.filename=a.filename,this.ctx,this.buf,this.fft,this.samples=128,this.setup=!1}return a.prototype.init=function(){var a;try{return this.ctx=new(window.AudioContext||window.webkitAudioContext),this.loadFile()}catch(b){return a=b,alert("no web audio support")}},a.prototype.loadFile=function(){var a;return a=new XMLHttpRequest,a.open("GET",this.filename,!0),a.responseType="arraybuffer",a.onload=function(b){return function(){return b.ctx.decodeAudioData(a.response,function(a){return b.buf=a,b.play()})}}(this),a.send()},a.prototype.play=function(){var a;return a=this.ctx.createBufferSource(),a.buffer=this.buf,this.fft=this.ctx.createAnalyser(),this.fft.fftSize=this.samples,a.connect(this.fft),this.fft.connect(this.ctx.destination),a.start(0),this.setup=!0},a}();var Visual;Visual=function(){function a(){this.container,this.camera,this.scene,this.renderer,this.mesh}return a.prototype.init=function(){return this.container=document.getElementById("container"),this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),this.renderer=new THREE.WebGLRenderer,this.renderer.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement)},a.prototype.render=function(){return requestAnimationFrame(this.render),this.renderer.render(this.scene,this.camera)},a}();var Visualizer;Visualizer=function(){function a(){this.music=new Music({filename:"numb.mp3"}),this.visual=new Visual}return a.prototype.start=function(){return this.music.init()},a.visual.init(),a.visual.render(),a}();